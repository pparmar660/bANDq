<div ng-include="'views/sidePanels/sidePanelSecurity.html'"></div>
<div id="newVehicle" ng-controller="addNewVehicle" ng-show="isNewVehicle">
    <div class="layout">
        <form>
            <div class="offender_global_head">
                <div class="text_wrap">
                    <div class="icon">
                        <div class="center-icon on-icons">
                            <div class="circle-icon">
                                <div class="v-m">
                                    <span class="d-icon d-icon3"></span>
                                </div>
                            </div>	
                        </div>
                    </div>
                    <div class="text"><h1 >{{title}}: </h1></div>
                </div>
                <div id="content" ng-show="isNoInterStrip">
                    <div class="layout">
                        <div class="no_internet_strip">
                            <div class="error-strip close-parent">
                                <span class="no-internet-icon"></span>
                                <h4>No Internet Connection</h4>		
                                <div class="close" ng-click="closeNoInternetStrip();"><span class="fa fa-times"></span></div>			
                            </div>
                        </div>
                    </div>
                </div>
                <div class="np_wrap vehicle-search-box">
                    <div class="np_area">
                        <div class="reg_number">
                            <angucomplete-ie8 id="vehicles" 
                                              placeholder="VEHICLE"
                                              pause="400"
                                              selected-object="vehicleObj"
                                              remote-url="http://api247.org/v1/getVehicleByPartialPlate?licence_number=" 
                                              remote-url-data-field="data"
                                              title-field="licence_plate_vtk"
                                              initial-value ="licence_plate_vtk"
                                              input-class="form-control form-control-small"
                                              match-class="highlight"/>
                            <!--                                            <input type="text" class="form-control" ng-model="VechileDetails.licence_plate_vtk" input-restrictor uppercased name="numer_plate" required>-->
                            <!-- <h5>NA11 HTO</h5> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="incident_report_tab offender_add">
                <div class="off_image_wrap">
                    <div class="p_image img-remove">
                        <a href="javascript:void(0);" ng-if="showProfileCancel" class="cross" ng-click="removeProfileImage()"><img src="images/cross.png"></a>
                        <img id="profileImage" src="images/car_img.jpg" />
                        <div class="btn-group icon-btn file_type_btn">	

                            <div class="wrap-btn" ng-click="uploadImage();">							
                                <!--											 Â <input type="file" class="hidden_file" data-file="param.file"> -->

                                <button class="button btn-orange btn-block radius" type="button"> <!--ng-click="getImage();" -->
                                    <span class="v-flex">										
                                        <span class="btn-txt">Upload Photo</span>
                                        <span class="circle-flex">
                                            <span class="s-btn-icon"><i class="fa fa-upload"></i></span>
                                        </span>										
                                    </span>
                                </button>
                            </div>		
                        </div>
                    </div>
                </div>
                <div class="offender_details">
                    <div class="parentHorizontalTab">
                        <ul class="tabs hor_1">
                            <li class="active" rel="tab1">Vehicle Details</li>
                            <li rel="tab2">Images &amp; Media</li>
                        </ul>
                        <div class="tab_container hor_1">											
                            <div class="tab_content">
                                <div class="vd_wrap">
                                    <div class="left">
                                        <div class="rb_wrap">
                                            <label>Plate: </label>
                                            <div class="custom-radio">
                                                <input type="radio" id="radio" ng-model="VechileDetails.licence_plate_type" ng-change="getPlateType(VechileDetails.licence_plate_type);" value="1" name="check">
                                                <label for="radio">Full</label>
                                            </div>

                                            <div class="custom-radio">
                                                <input type="radio" id="radio1" ng-model="VechileDetails.licence_plate_type" ng-change="getPlateType(VechileDetails.licence_plate_type);" value="0"  name="check">
                                                <label for="radio1">Partial</label>
                                            </div>
                                        </div>
                                        <div class="rb_wrap">
                                            <label>False Plate: </label>
                                            <div class="custom-radio">
                                                <input type="radio" id="radio2" ng-model="VechileDetails.possible_false_plate" ng-change="getFalsePlate(VechileDetails.possible_false_plate);" value="1" name="f_p">
                                                <label for="radio2">Yes</label>
                                            </div>

                                            <div class="custom-radio">
                                                <input type="radio" ng-model="VechileDetails.possible_false_plate" ng-change="getFalsePlate(VechileDetails.possible_false_plate);" value="0" id="radio3"  name="f_p">
                                                <label for="radio3">No</label>
                                            </div>
                                        </div>
                                        <div class="rb_wrap">
                                            <textarea placeholder="Description" ng-model="VechileDetails.description_vtk"></textarea>
                                        </div>
                                    </div>
                                    <div class="left">
                                        <ul>
                                            <li>
                                                <label>Make:</label>
                                                <div class="vd_text">
                                                    <input ng-model="VechileDetails.make_vtk" type="text" class="form-control" maxlength="50" placeholder="Please Enter" />
                                                </div>
                                            </li>
                                            <li>
                                                <label>Model:</label>
                                                <div class="vd_text">
                                                    <input ng-model="VechileDetails.model_vtk" type="text" class="form-control" maxlength="50" placeholder="Please Enter" />
                                                </div>
                                            </li>

                                            <li>
                                                <label>Colour:</label>
                                                <div class="vd_text">
                                                    <input ng-model="VechileDetails.colour_vtk" type="text" class="form-control" maxlength="50" placeholder="Please Enter" />
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="tab_content">
                                <div class="contact-info-detail">
                                    <div class="upload-box">
                                        <div class="wrap-btn">							
                                            <input type="file" class="hidden_file">
                                            <button type="button" class="button btn-orange btn-block radius">
                                                <span class="v-flex">		
                                                    <span class="btn-txt">Upload Images &amp; Media</span>
                                                    <span class="circle-flex">
                                                        <span class="s-btn-icon"><i class="fa fa-upload"></i></span>
                                                    </span>										
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                    <h3>Uploaded Images &amp; Media</h3>
                                    <div class="up_img_wrap">
                                        <div class="col_4" ng-repeat="img in images| startFrom : 0">
                                            <div class="files_upload_wrap">
                                                <div class="image">
                                                    <a href="javascript:void(0);" class="cross"  ng-click="deleteImage(img)"><img src="images/cross.png"></a>
                                                    <img ng-src="{{img.url}}" alt="docs">
                                                </div>
                                                <p>{{img.name}}</p>
                                            </div>
                                        </div>

                                        <div class="clr"></div>
                                    </div>
                                    <!--                                    <div class="up_img_wrap">
                                                                            <div class="col_4">
                                                                                <div class="files_upload_wrap">
                                                                                    <div class="image">
                                                                                        <a href="javascript:void(0);" class="cross"><img src="images/cross.png"></a>
                                                                                        <img src="images/doc_1.png" alt="docs">
                                                                                    </div>
                                                                                    <p>Example Doc.docx</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col_4">
                                                                                <div class="files_upload_wrap">
                                                                                    <div class="image">
                                                                                        <a href="javascript:void(0);" class="cross"><img src="images/cross.png"></a>
                                                                                        <img src="images/bnq_office.jpg" alt="docs">
                                                                                    </div>
                                                                                    <p>Indoors.jpg</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col_4">
                                                                                <div class="files_upload_wrap">
                                                                                    <div class="image">
                                                                                        <a href="javascript:void(0);" class="cross"><img src="images/cross.png"></a>
                                                                                        <img src="images/bnq_office_2.jpg" alt="docs">
                                                                                    </div>
                                                                                    <p>Example Image.jpg</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="clr"></div>
                                                                        </div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="scd_wrap" ng-show="isOneOfThese">
                <h3>Was it one of these?</h3>
                <ul class="np_btn">
                    <li ng-repeat="plate in Plates">
                        <button class="button btn-orange btn-block radius" type="button" ng-click="vehicleDetails(plate.id_vtk)">{{plate.licence_plate_vtk}}</button>
                        <p>{{plate.make_vtk}} {{plate.model_vtk}} {{plate.colour_vtk}}</p>
                    </li>
                </ul>
            </div>
            <div class="incident_report_btn_wrapper">

                <div class="incident_btn_wrap last_btn">
                    <div class="btn-group action-button action-nxt icon-btn">
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" ng-click="save();"> <!-- btn-green -->
                                <div class="v-flex">
                                    <span class="btn-txt">Save</span>
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><img src="images/icons/save_icon.png" alt="save icon" /></span>	
                                    </div>

                                </div>	
                            </button>							                  
                        </div>						
                    </div>
                </div>

                <div class="incident_btn_wrap">
                    <div class="btn-group action-button icon-btn">	
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" ng-click="back();">	
                                <div class="v-flex">
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><i class="fa fa-chevron-left"></i></span>	
                                    </div>
                                    <span class="btn-txt">Back</span>
                                </div>											
                            </button>	
                        </div>							  
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="ngdialog ngdialog-theme-default" ng-show="isCameraOption">
        <div class="ngdialog-overlay"></div>
        <div class="ngdialog-content" role="document">
            <div class="ngdialog-message">
                <h3 id="ngdialog1-aria-labelledby">Upload Files</h3>
                <ul class="camera_links">
                    <li><button ng-click="openCamera();"><span class="camera_img"></span> Camera</button></li>
                    <li><button ng-click="openGallery();"><span class="gallery_img"></span> Gallery</button></li>
                    <li><button ng-click="closeCameraOption();"><span class="close_img"></span> Close</button></li>
                    <li ng-hide="isEditVechile == true"><button ng-click="removeProfileImage();"><span class="close_img"></span> Remove Image</button></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div id="vehicleList" ng-controller="vehicleList" ng-show="isVehicleList">
    <div class="global-v-o-w vechicle">
        <div class="staff_directory">
            <div class="layout">
                <div class="staff_heading_row">
                    <div class="heading_left">
                        <div class="icon">
                            <div class="center-icon on-icons">
                                <div class="circle-icon">
                                    <div class="v-m">
                                        <span class="d-icon d-icon3"></span>
                                    </div>
                                </div>	
                            </div>
                        </div>
                        <div class="text"><h1 class="orange-text">Vehicles</h1></div>
                    </div>
                    <div class="heading_right">
                        <div class="left_text_box">
                            <div class="srch-box">
                                <input type="text" placeholder="Search" ng-model="inputVal" class="search-btn">
                                <input type="button" value="submit" class="search-icon" ng-click="getVechiles();">
                            </div>
                        </div>
                        <div class="right_btn" ng-hide="modulePermission.vehicle == 'Read Only'">
                            <div class="btn-group sl-icons icon-btn">
                                <div class="wrap-btn">							
                                    <button type="button" class="button btn-orange btn-block radius" ng-click="addNewVechile();">	
                                        <span class="v-flex">								  
                                            <span class="btn-txt">Add New</span>
                                            <span class="circle-flex">
                                                <span class="s-btn-icon"><img alt="" src="images/icons/general-add.png"></span>	
                                            </span>
                                        </span>										
                                    </button>
                                </div>							  
                            </div>
                        </div>
                    </div>								
                </div>

                <div id="content" ng-show="isNoInterStrip">
                    <div class="layout">
                        <div class="no_internet_strip">
                            <div class="error-strip close-parent">
                                <span class="no-internet-icon"></span>
                                <h4>No Internet Connection</h4>		
                                <div class="close" ng-click="closeNoInternetStrip();"><span class="fa fa-times"></span></div>			
                            </div>
                        </div>
                    </div>
                </div>

                <div class="security-brdcrum">
                    <ul class="staff_tabs">
                        <li><span>{{allVehicleCount}}</span> <a href="#vehicle" id="tab_all" ng-click="searchVechileTab('tab_all');">All</a></li>
                        <li><span>{{fullVehicleCount}}</span> <a href="#vehicle" id="tab_full" class="active" ng-click="searchVechileTab('tab_full');">Full Plate</a></li>
                        <li><span>{{partialVehicleCount}}</span> <a href="#vehicle" id="tab_partial" ng-click="searchVechileTab('tab_partial');">Partial Plate</a></li>														
                    </ul>

                </div>

                <div class="staff_select_wrapper">

                    <div class="col_select">
                        <div class="orange_select">
                            <ol class="nya-bs-select" ng-model="selectedCountry" title="All Countries" multiple data-live-search="false" data-selected-text-format="count" ng-change="getCountry(selectedCountry)">      
                                <li nya-bs-option="country in Countries track by $index">
                                    <a>
                                        <span class="label" >{{ country.name_cnt}}</span>
                                        <span class="fa fa-check check-mark"></span>
                                    </a></li>
                            </ol>
                        </div>                       

                    </div>
                    <div class="col_select">

                        <div class="orange_select">
                            <ol class="nya-bs-select" ng-model="selectedRegion"  title="All Regions" multiple data-live-search="false" data-selected-text-format="count" ng-change="regionChange(selectedRegion)">

                                <li nya-bs-option="region in Regions track by $index">
                                    <a>
                                        <span class="label" >{{ region.name_rgs}}</span>
                                        <span class="fa fa-check check-mark"></span>
                                    </a></li>
                            </ol>
                        </div>  

                    </div>
                    <div class="col_select">

                        <div class="orange_select">
                            <ol class="nya-bs-select" ng-model="selectedZone" multiple title="All Zones" data-live-search="false" data-selected-text-format="count" ng-change="zoneChange(selectedZone)">

                                <li nya-bs-option="zone in Zones track by $index">
                                    <a>
                                        <span class="label" >{{ zone.zone_name}}</span>
                                        <span class="fa fa-check check-mark"></span>
                                    </a></li>
                            </ol>
                        </div>  

                    </div>
                    <div class="col_select">
                        <div class="orange_select">
                            <ol class="nya-bs-select" ng-model="selectedVenue" multiple title="All Venues" data-live-search="false" data-selected-text-format="count" ng-change="getVenue(selectedVenue)">

                                <li nya-bs-option="venue in Venues track by $index">
                                    <a>
                                        <span class="label" >{{ venue.venue_name}}</span>
                                        <span class="fa fa-check check-mark"></span>
                                    </a></li>
                            </ol>
                        </div> 
                    </div>  
                    <div class="vws_btn" ng-click="getVechiles();">
                        <input type="submit" value="Search" class="se_btn">
                    </div>

                    <div class="clr"></div>

                </div>


                <div class="vehicles-wrap" >
                    <div id="noVehicleFoundview" ng-show="infoShow2" class="alertvalidate close-parent info">
                        <span class="info-icon"></span>
                        <h4>No matching vehicles found.</h4>
                        <div class="close" ng-click="infoClose()"><span class="fa fa-times"></span></div>
                    </div>
                    <ul>
                        <li ng-repeat="vechile in Vechiles">
                            <div class="vehicles-col vehical-col-height" id='{{vechile.id_vtk}}'>
                                <div class="vehicles-detail">
                                    <div class="v-number"><span>{{vechile.licence_plate_vtk| uppercase}}</span></div>
                                    <div class="off-hover">
                                        <div class="view-detail">

                                            <a class="off-edit" ng-show="vechile.isAddComm" href="javascript:void(0)" custom-click="showAddNotePopup(vechile.id_vtk);"></a>
                                            <a class="off-view" href="javascript:void(0)" custom-click="getVechileDetail(vechile.id_vtk);"></a>

                                            <p>Last Updated:<span>{{vechile.updated_time}}</span></p>
                                        </div>
                                    </div>
                                </div>
                                <span class="v-name">{{vechile.make_vtk}} {{vechile.model_vtk}} {{vechile.colour_vtk}}  {{vehicle.isAddComm}}</span>
                            </div>
                        </li>


                    </ul>

                </div>

            </div>

            <div class="incident_report_btn_wrapper">
                <div class="incident_btn_wrap fr" ng-show="pagingNext">
                    <div class="btn-group action-button action-nxt icon-btn">
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" ng-click="nextPage()">
                                <div class="v-flex">
                                    <span class="btn-txt">Next</span>	
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><i class="fa fa-chevron-right"></i></span>	
                                    </div>											
                                </div>
                            </button>							                  
                        </div>						
                    </div>
                </div>

                <div class="incident_btn_wrap last_btn fl" ng-show="pagingPrev">
                    <div class="btn-group action-button icon-btn">	
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" ng-click="prevPage()">	
                                <div class="v-flex">
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><i class="fa fa-chevron-left"></i></span>	
                                    </div>
                                    <span class="btn-txt">Previous</span>
                                </div>											
                            </button>	
                        </div>							  
                    </div>
                </div>


            </div>
        </div>
    </div>
    <div ng-include="'views/addCommPopup.html'"></div> 
    <!--    <div id="notePopup" ng-show="isNotePopUp" class="modal-change add-note close-parent">
                    <div class="alert_pop_wrap">
                        <div class="model_wrapper getHeight">
                            <div class="model_area">
                                <div class="popup-heading">									
                                    <div class="popup-icon">											
                                        <span class="modal-icon note-icon"></span>										
                                    </div>
                                                            <p>Add Note <span>(bqir2001: 22/11/2015)</span></p>
                                    <p>Add Comms <span>{{commsTitle}}</span></p>
                                </div>
                                <form method="post">
                                    <div class="model_content_text">
                                        <div class="model_forms">
                                            <div class="row">
                                                <div class="method" ng-show="isMethod">
                                                    <label>Method:</label>
    
                                                    <div class="white_selectbox pop_slect">
                                                        <ol class="nya-bs-select" ng-model="selectedMethod" data-live-search="false" ng-change="methodChange(selectedMethod)">
                                                            <li nya-bs-option="comm in comms">
                                                                <a>
                                                                    <span class="label" >{{ comm.name}}</span>
                                                                    <span class="glyphicon glyphicon-ok check-mark"></span>
                                                                </a></li>
                                                        </ol>
                                                    </div>  
                                                </div>
                                                <div class="method" ng-show="isDuration">
                                                    <label>Duration:</label>
                                                    <input type="time" name="name" ng-model="notes.time_jnt" placeholder="HH:MM" class="form-control" />
                                                </div>
                                                <div class="method" ng-show="isPhotoLibrary" ng-click="uploadImage();">
                                                    <label>Photo/Libray:</label>
                                                    <input name="file-2[]" id="file-2" class="inputfile inputfile-2" data-multiple-caption="{count} files selected" multiple />
                                                    <label for="file-2">
                                                        <strong class="camera_icon"><img src="images/icons/camera_icon.png" alt="camera" /></strong> 
                                                        <span>Upload</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="method" ng-show="isWith">
                                                    <label>With:</label>
                                                    <div class="white_selectbox pop_slect">
                                                        <ol class="nya-bs-select" ng-model="selectedStaff" data-live-search="false" ng-change="staffChange(selectedStaff)" data-selected-text-format="count" multiple>
                                                            <li nya-bs-option="staff in ListStaff">
                                                                <a>
                                                                    <span class="label" >{{ staff.firstname_usr}} {{staff.lastname_usr}}</span>
                                                                    <span class="fa fa-check check-mark"></span>
                                                                </a></li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div class="method" ng-show = "isRemind">
                                                    <label>Remind Me:</label>
                                                    <div datepicker datepicker-class="test-custom-class" date-format="dd-MM-yyyy" date-min-limit="01/01/1920" date-max-limit="" date-typer="true">
                                                        <input readonly ng-model="notes.remind_me_date" type="text" class="angular-datepicker-input form-control calender_textbox" placeholder="Date" />
                                                    </div>
                                                                                            <input type="text" name="name" placeholder="22/01/2016" class="form-control calender_textbox" id="datepicker" />
                                                </div>
                                                <div class="method" ng-show="isDeadLine">
                                                    <label>Deadline:</label>
                                                    <div datepicker datepicker-class="test-custom-class" date-format="dd-MM-yyyy" date-min-limit="01/01/1920" date-max-limit="" date-typer="true">
                                                        <input readonly ng-model="notes.dead_line_date" type="text" class="angular-datepicker-input form-control calender_textbox" placeholder="Date" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <textarea ng-show="isNoteDesc" ng-model="notes.note_jnt" placeholder="Type Note Here..."></textarea>
                                    </div>
                                    <div class="model_button">                                    
                                        <div class="btn-group action-button icon-btn">  
                                            <div class="wrap-btn"> 
                                                <div class="model_button_right fr">
                                                    <div class="btn-group action-button action-nxt icon-btn">
                                                        <div class="wrap-btn">							
                                                            <button class="button btn-green btn-block radius" type="button" ng-click="AddNote()">
                                                                <span class="v-flex">
                                                                    <span class="btn-txt">Add Note</span>	
                                                                    <span class="circle-flex">
                                                                        <span class="s-btn-icon radius"><i class="fa fa-chevron-right"></i></span>	
                                                                    </span>											
                                                                </span>
                                                            </button>							                  
                                                        </div>						
                                                    </div>
                                                </div>									
    
                                                <div class="model_button_left fl">
                                                    <div class="btn-group action-button icon-btn close">	
                                                        <div class="wrap-btn">							
                                                            <button class="button btn-action btn-block radius" type="button" ng-click="hideAddNotePopup()">	
                                                                <span class="v-flex">
                                                                    <span class="circle-flex">
                                                                        <span class="s-btn-icon radius"><i class="fa fa-chevron-left"></i></span>	
                                                                    </span>
                                                                    <span class="btn-txt">Cancel</span>
                                                                </span>											
                                                            </button>	
                                                        </div>							  
                                                    </div>
                                                </div>
    
                                            </div>                           
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>	
                    </div>
                </div>
    
        <div class="alert_pop_wrap animation" ng-show="isSuccess">
                <div class="model_wrapper getHeight">
                    <div class="model_area">
                        <div class="model_head">
                            <div class="model_head_icon"><img src="images/icons/notification-success-color.png" alt="Success" /></div>
                            <div class="model_head_text green">Success</div>
                        </div>
                        <div class="model_content_text">
                            <p>{{successMsg}}</p>
                        </div>
                        <div class="model_button">
                            <div class="model_button_right">
                                <div class="btn-group action-button action-nxt icon-btn">	
                                    <div class="wrap-btn">							
                                        <button class="button btn-green btn-block radius" ng-click="closeSuccess();" type="button">	
                                            <span class="v-flex">
                                                <span class="btn-txt">OK</span>
                                            </span>											
                                        </button>	
                                    </div>							  
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <div class="ngdialog ngdialog-theme-default" ng-show="isCameraOption">
                <div class="ngdialog-overlay"></div>
                <div class="ngdialog-content" role="document">
                    <div class="ngdialog-message">
                        <h3 id="ngdialog1-aria-labelledby">Upload Files</h3>
                        <ul class="camera_links">
                            <li><button ng-click="openCamera();"><span class="camera_img"></span> Camera</button></li>
                            <li><button ng-click="openGallery();"><span class="gallery_img"></span> Gallery</button></li>
                            <li><button ng-click="closeCameraOption();"><span class="close_img"></span> Close</button></li>
                        </ul>
                    </div>
                </div>
            </div>-->
</div>

<div id="vehicleDetails" ng-controller="ViewVechileSecurityById" ng-show="isVehicleDetails">
    <div class="layout">
        <div ng-show="successShow == true" class="alertvalidate close-parent success">
            <span class="success-icon"></span>
            <h4>{{successMessage}}</h4>
            <div class="close" ng-click="successClose()"><span class="fa fa-times"></span></div>
        </div>
        <div class="vvheader_wrap">
            <div class="text_wrap">
                <div class="vvh_icon">
                    <div class="icon">
                        <div class="center-icon on-icons">
                            <div class="circle-icon">
                                <div class="v-m">
                                    <span class="d-icon d-icon2"></span>
                                </div>
                            </div>    
                        </div>
                    </div>
                    <div class="text_head">
                        <h1><span>Vehicle:</span></h1>
                    </div>              
                </div>          
                <div class="np_wrap">
                    <div class="np_area">{{vechileData.licence_plate_vtk| uppercase}}</div>
                </div>  
            </div>
            <div class="edit_btn_wrap" ng-hide="modulePermission.vehicle == 'Read Only'">
                <div class="btn-group sl-icons icon-btn">
                    <div class="wrap-btn">                          
                        <button class="button btn-orange btn-block radius" type="button" ng-click="editVechile(vechileData.id_vtk);"> 
                            <span class="v-flex">                                 
                                <span class="btn-txt">Edit</span>
                                <span class="circle-flex">
                                    <span class="s-btn-icon"><i class="fa fa-edit"></i></span>          
                                </span>
                            </span>
                        </button>
                    </div>                                
                </div>
            </div>  
            <p>Last updated: {{vechileData.updated_time}}</p>                            
        </div>
        <div id="content" ng-show="isNoInterStrip">
            <div class="layout">
                <div class="no_internet_strip">
                    <div class="error-strip close-parent">
                        <span class="no-internet-icon"></span>
                        <h4>No Internet Connection</h4>		
                        <div class="close" ng-click="closeNoInternetStrip();"><span class="fa fa-times"></span></div>			
                    </div>
                </div>
            </div>
        </div>
        <div class="incident_report_tab of_detail_view">
            <div class="offender_slider_wrap">

                <div ng-if="largeImage.length > 0" class="carousel-demo-fullscreen">
                    <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">



                        <li id="tags-list" ng-repeat="image in largeImage track by $index" ng-class="'id-' + image.id">
                            <img ng-src="{{image.imageurl}}" alt="banner{{image.imagename}}" custom-click="imageLargeView(image);"/> 
                        </li>
                    </ul>
                </div>
                <div ng-if="largeImage.length == 0" class="carousel-demo-fullscreen">
                    <img src="images/car_img.jpg" alt="banner"/> 
                </div>

            </div>

            <div class="offender_details">
                <div class="parentHorizontalTab">
                    <ul class="tabs hor_1">
                        <li>Vehicle Details</li>
                        <li>Images &amp; Media</li>
                    </ul>
                    <div class="tab_container hor_1">

                        <div class="tab_content">
                            <div class="vvl_wrap">
                                <div class="left">
                                    <ul>
                                        <li><p><span>Plate:</span> <strong>{{vechileData.licence_plate_type === 1 ? "Full" : "Partial"}}</strong></p></li>
                                        <li><p><span>False:</span> <strong>{{vechileData.possible_false_plate === 1 ? "Yes" : "No"}}</strong></p></li>
                                        <li><p>Description:</p></li>
                                        <li><p><span><strong ng-bind-html="vechileData.description_vtk"></strong></span></p></li>
                                    </ul>
                                </div>
                                <div class="left">
                                    <ul>
                                        <li><p><span>Make:</span> <strong ng-bind-html="vechileData.make_vtk"></strong></p></li>
                                        <li><p><span>Model:</span> <strong  ng-bind-html="vechileData.model_vtk"></strong></p></li>
                                        <li><p><span>Colour:</span> <strong ng-bind-html="vechileData.colour_vtk"></strong></p></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="tab_content">
                            <div class="up_img_wrap">
                                <div class="col_4" ng-repeat="image in images">
                                    <div class="files_upload_wrap">
                                        <div class="image">
                                            <a href="javascript:void(0);"></a>
                                            <img ng-src="{{image.imageurl}}" alt="docs">
                                        </div>
                                        <p>{{img.imagename}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="incident_details">
            <div class="incident_victims_details incident-victim-tabs">
                <div class="parentHorizontalTab">
                    <ul class="tabs hor_1">
                        <li>Incidents</li>
                        <li>Vehicles</li>
                        <li>Locations</li>
                        <li>Linked Offenders</li>
                    </ul>
                    <div class="tab_container hor_1">

                        <div class="tab_content">
                            <div ng-if="(incidents.length <= 0 || !incidents)"> No linked Incidents </div>
                            <div class="vertical-scroll">
                                <div class="o_d_t_wrap">
                                    <div class="left" ng-repeat="incident in incidents">
                                        <ul>
                                            <li><p><span>Reference:&nbsp;</span><strong>{{incident.reference_no}}</strong></p></li>
                                            <li><p><span>Category:&nbsp;</span><strong>{{incident.category}}</strong></p></li>
                                            <li><p><span>Outcome/Type:&nbsp;</span><strong>{{incident.outcome}}/{{incident.type}}</strong></p></li>
                                            <li><p><span>Date:&nbsp;</span><strong>{{incident.date}}</strong></p></li>
                                            <li><p><span>Status:&nbsp;</span><strong>{{incident.status}}</strong></p></li>	
                                        </ul>
                                    </div> 
                                </div>
                            </div>
                        </div>

                        <div class="tab_content">
                            No linked Vehicles.

                        </div>

                        <div class="tab_content">
                            <!--                            No linked Locations.-->
                            <div id="map"></div>

                        </div>

                        <div class="tab_content">
                            <div ng-if="(data.linked_offender.length <= 0 || !data.linked_offender)"> No linked Offenders </div>
                            <div class="vertical-scroll" ng-if="data.linked_offender.length > 0">
                                <div class="left-col1" ng-repeat="offender in data.linked_offender">
                                    <div class="image-block">
                                        <img ng-src="{{offender.image}}" alt="thumb-img" /> 
                                    </div>
                                    <div class="content-block">
                                        <p><span>{{offender.status}}</span></p>
                                        <p>Incidents:&nbsp;{{offender.linked_incident}}</p>
                                        <p>Vehicles:&nbsp;{{offender.linked_vehicle}}</p>

                                    </div>
                                    <div class="title-name">
                                        <span>{{offender.fullName}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="incident_notes_wrap" ng-hide="!isCommAllowed">
                <div class="parentHorizontalTab">
                    <ul class="tabs hor_1">
                        <li ng-show="isCommAllowed">Notes &amp; Comms</li>
                        <li ng-show="vechileData.has_task == 1">Tasks &amp; Checklists</li>
                        <span ng-show="isCommAllowed" class="comms" custom-click="showAddNotePopup();"></span>
                    </ul>

                    <div class="tab_container hor_1">
                        <div class="tab_content">
                            <div class="comms_notes_wrap">
                                <div ng-repeat="comm in commsNote">
                                    <div class="notes_wrap" ng-class-even="'next_line'">
                                        <div class="notes_wrap_img">
                                            <img ng-src="{{staffImage}}" alt="news" /> <!--images/news_1.png-->
                                        </div>
                                        <div class="notes_wrap_content">
                                            <div class="notes_wrap_text">
                                                <h3>{{comm.note_title}}</h3> <!--Derek Gent at Nov 11, 2015 11:09--> 
                                                <p>{{comm.message}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="tab_content">
                            <div class="comms_notes_wrap">
                                <div class="AOC_ContentDiv">
                                    <div class="AOC_Content o_d_t_wrap displayBLock">
                                        <ul>
                                            <li ng-repeat="task in taskAndCheckList">
                                                <div class="asignList" >
                                                    <label class="msgstatus_icon"><span><img ng-src="{{task.image}}" alt="{{task.image}}"></span></label>
                                                    <div class="asignDivContent">
                                                        <p class="text">{{task.task_refernce}}: {{task.content}}</p>
                                                        <p><span>Assigned to: {{task.assigned_to}}</span></p>
                                                        <p><span>Date Required: {{task.date}}</span></p>
                                                        <!--                                                        <p><span>{{task.assigned_to}}, Date Required, {{task.date}}</span></p>-->
                                                    </div>
                                                </div> 
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-include="'views/addCommPopup.html'"></div> 

            <div class="incident_report_btn_wrapper">


                <div class="incident_btn_wrap last_btn" ng-show="isNextRecord">
                    <div class="btn-group action-button action-nxt icon-btn">
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" custom-click="nextPrevDetail(link.next);">
                                <div class="v-flex">
                                    <span class="btn-txt">Next</span>	
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><i class="fa fa-chevron-right"></i></span>	
                                    </div>											
                                </div>
                            </button>							                  
                        </div>						
                    </div>
                </div>

                <div class="incident_btn_wrap" ng-show="isBackRecord">
                    <div class="btn-group action-button icon-btn">	
                        <div class="wrap-btn">							
                            <button class="button btn-action btn-block radius" type="button" custom-click="nextPrevDetail(link.previous);">	
                                <div class="v-flex">
                                    <div class="circle-flex">
                                        <span class="s-btn-icon"><i class="fa fa-chevron-left"></i></span>	
                                    </div>
                                    <span class="btn-txt">Previous</span>
                                </div>											
                            </button>	
                        </div>							  
                    </div>
                </div>

            </div>

        </div>
        <div class="sp_wrap" ng-show="isLargeImageView">

            <div class="slider_wrap">
                <div class="slider_content">

                    <div class="slider_img_wrap">
                        <div class="carousel-demo-fullscreen">

                            <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">

                                <li id="tags-list" ng-model="imageIndex" ng-repeat="image in largeImage track by $index">


                                    <div class="slider_head">
                                        <h2><span class="close_btn" ng-click="closeLargeImageView();"><i class="fa fa-times"></i></span></h2>
                                    </div>
                                    <h2><strong>Image:</strong> <span>(</span>{{image.imagename}} <span ng-if="image.updateddate != null">- {{image.updateddate}}</span> <span ng-if="image.owner != null">by {{image.owner}}</span><span>)</span></h2>
                                    <img ng-src="{{image.imageurl}}" alt="banner{{image.imagename}}"/> 


                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div ng-if="internetConnection">
        <div class="layout">
            <div class="loading_details">
                <div class="no_connection">
                    <div class="no_internet"><img src="images/no_internet.gif" alt="no internet"></div>
                    <h1>No Internet <br> Connection</h1>
                </div>
            </div>
        </div>
    </div>

    <!-- Templates -->

    <script>
                        $(document).ready(function () {
                $('.parentHorizontalTab').easyResponsiveTabs({
                type: 'default', //Types: default, vertical, accordion
                        width: 'auto', //auto or any width like 600px
                        fit: true, // 100% fit in a container
                        tabidentify: 'hor_1', // The tab groups identifier
                        activate: function (event) { // Callback function if tab is switched
                        var $tab = $(this);
                                var $info = $('#nested-tabInfo');
                                var $name = $('span', $info);
                                $name.text($tab.text());
                                $info.show();
                        }
                });
                });
    </script> 


