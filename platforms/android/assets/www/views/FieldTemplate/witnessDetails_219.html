<div class="layout" id="219" ng-controller="wictessDetailCnt" ng-show="witnessDetailShowStatus">

    <div class="global_Load_head">
        <div class="text_wrap">
            <div class="icon">
                <div class="center-icon on-icons">
                    <div class="circle-icon">
                        <div class="v-m">
                            <span class="d-icon d-icon4"></span>
                        </div>
                    </div>  
                </div>
            </div>
            <div class="text_head">
                <h1><span>Witness:</span> {{witnessData.firstname_usr + " " + witnessData.lastname_usr}}</h1>
            </div>							
        </div>
        <div class="edit_btn_wrap">
            <div class="btn-group sl-icons icon-btn">
                <div class="wrap-btn">							
                    <button class="button btn-orange btn-block radius" type="button" ng-click="editBtnClicked()">	
                        <span class="v-flex">								  
                            <span class="btn-txt">Edit</span>
                            <span class="circle-flex">
                                <span class="s-btn-icon"><i class="fa fa-edit"></i></span>			
                            </span>
                        </span>
                    </button>
                </div>								  
            </div>
        </div>
        <p>Last updated: {{witnessData.last_updated}}</p>							
    </div>
    <div class="incident_report_tab of_detail_view">
        <div class="offender_slider_wrap">
            <div ng-if="images.length > 0" class="carousel-demo-fullscreen">
                <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">
                    <li id="tags-list" ng-repeat="image in images track by $index">
                        <img ng-src="{{image.imageurl}}" custom-click="imageLargeView(image);"/> 
                    </li>

                </ul>
            </div>
            <div ng-if="images.length == 0" class="carousel-demo-fullscreen">
                <img src="images/profile_img_1.jpg"/> 
            </div>
        </div>
        <div class="offender_details">
            <div class="parentHorizontalTab">
                <ul class="tabs hor_1">
                    <li>Contact Details</li>
                    <li>Images &amp; Media</li>
                </ul>
                <div class="tab_container hor_1">	
                    <div class="tab_content">
                        <div class="vvl_wrap">
                            <div class="left">
                                <ul>
                                    <li><p><span>Categories:</span> <span><strong ng-repeat="wtCat in witnessData.categories track by $index"><small ng-bind-html="wtCat.title_uct"></small></strong></span></p></li>
                                    <li><p><span>Telephone:</span> <strong ng-bind-html="witnessData.p_tph_usr"></strong></p></li>
                                    <li><p><span>Mobile:</span> <strong ng-bind-html="witnessData.p_mob_usr"></strong></p></li>
                                    <li><p><span>Email:</span> <strong ng-bind-html="witnessData.email_usr"></strong></p></li>
                                    <li><p><span>Gender:</span> <strong ng-bind-html="witnessData.sex_usr"></strong></p></li>

                                    <!--                                    <li><p>Describe what happen...</p></li>-->
                                    <!--                                    <li><h5>Joe was assaulted dusring a theft</h5></li>-->
                                </ul>
                            </div>
                            <div class="left">
                                <ul>
                                    <li><p><span>Address 1:</span> <strong ng-bind-html="witnessData.address_usr"></strong></p></li>
                                    <li><p><span>Address 2:</span> <strong ng-bind-html="witnessData.address_2_usr"></strong></p></li>
                                    <li><p><span>Address 3:</span> <strong ng-bind-html="witnessData.address_3_usr"></strong></p></li>
                                    <li><p><span>Postcode:</span> <strong ng-bind-html="witnessData.postcode_usr"></strong></p></li>
                                    <li ng-hide="true"><p><span>Town:</span> <strong ng-bind-html="witnessData.town_usr"></strong></p></li>
                                    <li ng-hide="true"><p><span>County:</span> <strong ng-bind-html="witnessData.county_usr"></strong></p></li>
                                    <li><p><span>Country:</span> <strong ng-bind-html="witnessData.country_name"></strong></p></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="tab_content">
                        <!--                        <li ng-repeat="image in images track by image.id" ng-class="'id-' + image.id">
                                                    <img ng-src="{{image.img}}" alt="banner{{image.id}}" onError="this.src='images/offenders-pic/pic08.jpg';" ng-click="openImageInFullScreen()"/> 
                                                </li>-->
                        <div class="up_img_wrap">
                            <div class="col_4" ng-repeat="image in images track by $index">
                                <div class="files_upload_wrap">
                                    <div class="image">
                                        <a href="javascript:void(0);"></a>
                                        <img ng-src="{{image.imageurl}}" alt="docs">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="incident_details">
        <div class="incident_victims_details incident-victim-tabs">
            <div class="parentHorizontalTab">
                <ul class="tabs hor_1">
                    <li>Incidents</li>
                    <li>Vehicles</li>
                    <li>Locations</li>
                    <li>Linked Offenders</li>
                </ul>
                <div class="tab_container hor_1">

                    <div class="tab_content">
                        <div ng-if="(incidents.length <= 0 || !incidents)"> No linked Incidents </div>
                        <div class="vertical-scroll">
                            <div class="o_d_t_wrap">
                                <div class="left" ng-repeat="incident in incidents">
                                    <ul>
                                        <li><p><span>Reference:</span> <strong>{{incident.reference_no}}</strong></p></li>
                                        <li><p><span>Category:</span> <strong>{{incident.category}}</strong></p></li>
                                        <li><p><span>Outcome/Type:</span> <strong ng-if="incident.outcome != null">{{incident.outcome}}/{{incident.type}}</strong></p></li>
                                        <li><p><span>Date:</span> <strong>{{incident.date}}</strong></p></li>
                                        <li><p><span>Status:</span> <strong>{{incident.status}}</strong></p></li>	
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab_content">
                        No linked Vehicles 
                        <!--                        No linked Offenders
                                                No linked Victims-->
                    </div>

                    <div class="tab_content">
                        <!--                        No linked Locations -->
                    </div>

                    <div class="tab_content">
                        No linked Offenders 
                    </div>
                </div>


            </div>
        </div>

        <div class="incident_notes_wrap" ng-hide="!isCommAllowed">
            <div class="parentHorizontalTab">
                <ul class="tabs hor_1">
                    <li ng-show="isCommAllowed">Notes &amp; Comms</li>
                    <li ng-show=" witnessData.has_task == 1">Tasks &amp; Checklists</li>
                    <span ng-show="isCommAllowed" class="comms" ng-click="showAddNotePopup();"></span>
                </ul>
                <div class="tab_container hor_1">
                    <div class="tab_content">
                        <div class="comms_notes_wrap">
                            <div ng-repeat="comm in commsNote">
                                <div class="notes_wrap" ng-class-even="'next_line'">
                                    <div class="notes_wrap_img">
                                        <img ng-src="{{staffImage}}" alt="news" /> <!--images/news_1.png-->
                                    </div>
                                    <div class="notes_wrap_content">
                                        <div class="notes_wrap_text">
                                            <h3>{{comm.note_title}}</h3> <!--Derek Gent at Nov 11, 2015 11:09--> 
                                            <p>{{comm.message}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab_content">
                        <div class="comms_notes_wrap">
                            <div class="AOC_ContentDiv">
                                <div class="AOC_Content o_d_t_wrap displayBLock">
                                    <ul>
                                        <li ng-repeat="task in taskAndCheckList">
                                            <div class="asignList" >
                                                <label class="msgstatus_icon"><span><img ng-src="{{task.image}}" alt="{{task.image}}"></span></label>
                                                <div class="asignDivContent">
                                                    <p class="text">{{task.task_refernce}}: {{task.content}}</p>
                                                    <p><span>Assigned to: {{task.assigned_to}}</span></p>
                                                    <p><span>Date Required: {{task.date}}</span></p>
                                                </div>
                                            </div> 
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-include="'views/addCommPopup.html'"></div> 
    <div class="sp_wrap" ng-show="isLargeImageView">
        <div class="slider_wrap">
            <div class="slider_content">

                <div class="slider_img_wrap">
                    <div class="carousel-demo-fullscreen">

                        <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">

                            <li id="tags-list" ng-model="imageIndex" ng-repeat="image in images track by $index">


                                <div class="slider_head">
                                    <h2><span class="close_btn" ng-click="closeLargeImageView();"><i class="fa fa-times"></i></span></h2>
                                </div>
                                <h2><strong>Image:</strong> <span>(</span>{{image.imagename}} <span ng-if="image.updateddate != null">- {{image.updateddate}}</span> <span ng-if="image.owner != null">by {{image.owner}}</span><span>)</span></h2>
                                <img ng-src="{{image.imageurl}}" alt="banner{{image.imagename}}"/> 
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
